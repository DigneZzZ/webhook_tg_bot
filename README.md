# Webhook Telegram Bot

![Production Ready](https://img.shields.io/badge/production-ready-green)
![Docker](https://img.shields.io/badge/docker-supported-blue)
![AI Powered](https://img.shields.io/badge/AI-GPT--4.1--nano-orange)

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–∞—Ö —Å —Ñ–æ—Ä—É–º–∞ Discourse –≤ Telegram –≥—Ä—É–ø–ø—ã —Å –ò–ò-–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–º–∏ —Ä–µ–∑—é–º–µ.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Discourse
- –û–±—Ä–∞–±–æ—Ç–∫–∞ webhook'–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–º –∏ –ø–æ—Å—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ Discourse
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–º—ã –∏ –ø–æ—Å—Ç–∞ –≤ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ webhook'–æ–≤ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### ü§ñ –ò–ò-–∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **OpenAI GPT-4.1-nano** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–º–Ω—ã—Ö —Ä–µ–∑—é–º–µ
- –ê–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ—Å—Ç–æ–≤ —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –û—á–∏—Å—Ç–∫–∞ HTML-—Ç–µ–≥–æ–≤ –¥–ª—è –ª—É—á—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### üì± –ì–∏–±–∫–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –≤ Telegram
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–æ–ø–∏–∫–∏
- **–ú–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π** –Ω–∞ —Ä–∞–∑–Ω—ã–µ Telegram —Ç–æ–ø–∏–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–º–æ–¥–∑–∏-–ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –¥–ª—è —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –£–º–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å HTML

### üéØ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π** –∏–ª–∏ –≤—Å–µ—Ö —Å—Ä–∞–∑—É
- **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π**
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±–æ—Ç–æ–≤** (discobot, chatbot –∏ –¥—Ä—É–≥–∏—Ö)
- **–ü–ª–∞—Ç–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã** —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –æ –ø–æ–¥–ø–∏—Å–∫–µ

### üöÄ Production Ready
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å healthcheck
- GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏
- Systemd –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Graceful shutdown –∏ error handling

## üìã –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

```
üë§ üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–ª –Ω–æ–≤—ã–π –ø–æ—Å—Ç: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã

üìã –ê–≤—Ç–æ—Ä –¥–µ–ª–∏—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –æ–±—ä—è—Å–Ω—è–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–µ–º—É (https://forum.example.com/t/topic/123)

üè∑ –¢–µ–≥–∏: #docker, #database, #troubleshooting

üíé –î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ.
```

### –ü—Ä–µ—Ñ–∏–∫—Å—ã —Ä–æ–ª–µ–π
- üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- üõ°Ô∏è –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä  
- ‚≠ê –ü–µ—Ä—Å–æ–Ω–∞–ª
- üî• –õ–∏–¥–µ—Ä
- üë§ –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

### üì° Telegram –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
TELEGRAM_BOT_TOKEN=1234567890:ABC-DEF1234567890          # –¢–æ–∫–µ–Ω –æ—Ç @BotFather
TELEGRAM_CHAT_ID=-1001234567890                          # ID –≥—Ä—É–ø–ø—ã/–∫–∞–Ω–∞–ª–∞  
TELEGRAM_THREAD_ID=0                                     # ID —Ç–æ–ø–∏–∫–∞ (0 = –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç)
```

### üîó Webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
WEBHOOK_SECRET=your_super_secret_key_here                # –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏
WEBHOOK_PORT=8080                                        # –ü–æ—Ä—Ç –¥–ª—è webhook —Å–µ—Ä–≤–µ—Ä–∞
WEBHOOK_PATH=/webhook                                     # –ü—É—Ç—å endpoint'–∞
WEBHOOK_DOMAIN=https://your-server.com                   # –î–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### ü§ñ –ò–ò –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  # –ö–ª—é—á OpenAI API
OPENAI_MODEL=gpt-4.1-nano                                   # –ú–æ–¥–µ–ª—å GPT (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è gpt-4.1-nano)
```

### üè∑ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
```bash
BASE_URL=https://your-forum.com                          # –ê–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Ñ–æ—Ä—É–º–∞

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–ø—É—Å—Ç–æ = –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
MONITORED_CATEGORIES=1,2,3,4,5                           # ID –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
IGNORED_CATEGORIES=10,11,12                               # ID –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

# –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
IGNORED_USERS=-2,-1,1234                                  # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
                                                          # -2 = discobot, -1 = system, etc.

# –ü–ª–∞—Ç–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
PREMIUM_CATEGORIES=4,5,6                                  # ID –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –ø–æ–¥–ø–∏—Å–∫–æ–π
```

### üìç –ú–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–∞ Telegram —Ç–æ–ø–∏–∫–∏
```bash
# –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–æ–ø–∏–∫ 1
TELEGRAM_THREAD_ID_1=123456                              # ID —Å–æ–æ–±—â–µ–Ω–∏—è-—Ç–æ–ø–∏–∫–∞
THREAD_CATEGORIES_1=1,2,3                                # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: Go, Python, JavaScript

# –î–∏–∑–∞–π–Ω –≤ —Ç–æ–ø–∏–∫ 2  
TELEGRAM_THREAD_ID_2=234567
THREAD_CATEGORIES_2=4,5                                  # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: UI/UX, Graphics

# –ë–∏–∑–Ω–µ—Å –≤ —Ç–æ–ø–∏–∫ 3
TELEGRAM_THREAD_ID_3=345678
THREAD_CATEGORIES_3=6,7,8                                # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: Marketing, Sales, Strategy

# –ñ–µ–ª–µ–∑–æ –≤ —Ç–æ–ø–∏–∫ 4
TELEGRAM_THREAD_ID_4=456789  
THREAD_CATEGORIES_4=9,10                                 # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: Hardware, Reviews

# –û—Ñ—Ç–æ–ø –≤ —Ç–æ–ø–∏–∫ 5
TELEGRAM_THREAD_ID_5=567890
THREAD_CATEGORIES_5=11,12,13                             # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: General, Random, Fun
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –°–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
curl -fsSL https://raw.githubusercontent.com/dignezzz/webhook_tg_bot/main/install.sh -o install.sh
chmod +x install.sh
./install.sh install
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
```bash
whtg                    # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
whtg install            # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞  
whtg update             # –û–±–Ω–æ–≤–∏—Ç—å –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
whtg start              # –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
whtg stop               # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
whtg restart            # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
whtg status             # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å
whtg logs               # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
whtg uninstall          # –£–¥–∞–ª–∏—Ç—å –±–æ—Ç–∞
```

### Docker Compose (—Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)
```yaml
version: '3.8'
services:
  webhook-bot:
    image: ghcr.io/dignezzz/webhook_tg_bot:latest
    container_name: webhook_tg_bot
    restart: unless-stopped
    ports:
      - "8080:8080"
    env_file:
      - .env
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]
      interval: 30s
      timeout: 10s
      retries: 3
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Discourse

### 1. –°–æ–∑–¥–∞–Ω–∏–µ webhook'–∞
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Admin ‚Üí API ‚Üí Webhooks**
2. –ù–∞–∂–º–∏—Ç–µ **New Webhook**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```
Payload URL: http://your-server.com:8080/webhook
Content Type: application/json  
Secret: your_webhook_secret_from_env
Which events: Topic Event + Post Event
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ ID –∫–∞—Ç–µ–≥–æ—Ä–∏–π
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É: `https://your-forum.com/admin/customize/site_texts`
–ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ URL –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: `https://your-forum.com/c/category-name/5` (–≥–¥–µ 5 - —ç—Ç–æ ID)

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É: `https://your-forum.com/admin/users/USERNAME`
URL –ø–æ–∫–∞–∂–µ—Ç ID: `https://your-forum.com/admin/users/123/username`

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞
1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/botfather)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ `TELEGRAM_BOT_TOKEN`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥—Ä—É–ø–ø—ã
1. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É –∏–ª–∏ –∫–∞–Ω–∞–ª
2. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –ü–æ–ª—É—á–∏—Ç–µ Chat ID:
   - –î–æ–±–∞–≤—å—Ç–µ [@userinfobot](https://t.me/userinfobot) –≤ –≥—Ä—É–ø–ø—É
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ API: `https://api.telegram.org/bot<TOKEN>/getUpdates`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–ø–∏–∫–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. –í–∫–ª—é—á–∏—Ç–µ —Ç–æ–ø–∏–∫–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≥—Ä—É–ø–ø—ã
2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–ø–∏–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
3. –ü–æ–ª—É—á–∏—Ç–µ Thread ID –∫–∞–∂–¥–æ–≥–æ —Ç–æ–ø–∏–∫–∞:
   - –ü–µ—Ä–µ—à–ª–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ —Ç–æ–ø–∏–∫–∞ –±–æ—Ç—É
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è Thread ID

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
# Healthcheck endpoint
curl http://localhost:8080/health

# –°—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∫—Ä–∏–ø—Ç
whtg status
```

### –õ–æ–≥–∏
```bash
# –ß–µ—Ä–µ–∑ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∫—Ä–∏–ø—Ç  
whtg logs

# –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Docker
docker-compose logs -f webhook-bot

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
journalctl -u webhook-tg-bot -f
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ webhook'–∞
```bash
curl -X POST http://localhost:8080/webhook \
  -H "Content-Type: application/json" \
  -H "X-Discourse-Event-Signature: sha256=..." \
  -d '{
    "topic": {
      "id": 1,
      "title": "Test Topic", 
      "category_id": 1,
      "created_by": {"username": "test"}
    }
  }'
```

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Discourse     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Webhook Server  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Telegram Bot  ‚îÇ
‚îÇ    Forum        ‚îÇ    ‚îÇ                  ‚îÇ    ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ                          ‚îÇ
                              ‚ñº                          ‚ñº
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ OpenAI GPT   ‚îÇ         ‚îÇ Telegram Groups ‚îÇ
                       ‚îÇ  (Summary)   ‚îÇ         ‚îÇ   & Topics      ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **HTTP Server**: –û–±—Ä–∞–±–æ—Ç–∫–∞ webhook'–æ–≤ –æ—Ç Discourse
- **Storage**: –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **AI Provider**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ OpenAI
- **Telegram Bot**: –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø—ã/—Ç–æ–ø–∏–∫–∏
- **Config**: –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (`WEBHOOK_SECRET`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ  
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç—É webhook'–∞ —á–µ—Ä–µ–∑ firewall
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ Docker –æ–±—Ä–∞–∑ (`whtg update`)
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç HMAC-SHA256 –ø–æ–¥–ø–∏—Å—å –∫–∞–∂–¥–æ–≥–æ webhook'–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ–¥–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

## üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### CI/CD Pipeline
- GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –Ω–æ–≤—ã–π Docker –æ–±—Ä–∞–∑ –ø—Ä–∏ –∫–∞–∂–¥–æ–º commit
- –û–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ GitHub Container Registry
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `whtg update` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

### Rollback
```bash
# –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏  
docker-compose down
docker pull ghcr.io/dignezzz/webhook_tg_bot:previous-tag
docker-compose up -d
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub**: [dignezzz/webhook_tg_bot](https://github.com/dignezzz/webhook_tg_bot)
- **Issues**: [–°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ](https://github.com/dignezzz/webhook_tg_bot/issues)
- **Discussions**: [–û–±—Å—É–∂–¥–µ–Ω–∏—è –∏ –≤–æ–ø—Ä–æ—Å—ã](https://github.com/dignezzz/webhook_tg_bot/discussions)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE) —Ñ–∞–π–ª.

---

**üí° –°–æ–≤–µ—Ç**: –ù–∞—á–Ω–∏—Ç–µ —Å –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∞ –∑–∞—Ç–µ–º –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –º–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
