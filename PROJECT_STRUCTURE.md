# –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

- **`main.go`** - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **`go.mod`** - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go –º–æ–¥—É–ª—è
- **`.env.example`** - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **`Dockerfile`** - –û–±—Ä–∞–∑ Docker –¥–ª—è —Å–±–æ—Ä–∫–∏
- **`docker-compose.yml`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose

## –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

### Windows
- **`start.bat`** - –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ (Windows)
- **`test_webhook.bat`** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±—Ö—É–∫–æ–≤ (Windows)

### Linux/Ubuntu
- **`quick_install.sh`** - –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **`deploy_ubuntu.sh`** - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- **`INSTALL_UBUNTU.md`** - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Ubuntu

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```
internal/
‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ config.go    # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ server/          # HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ server.go    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ bot/             # Telegram –±–æ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ bot.go       # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
‚îú‚îÄ‚îÄ ai/              # –ò–ò –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∑—é–º–µ
‚îÇ   ‚îî‚îÄ‚îÄ ai.go        # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI GPT
‚îú‚îÄ‚îÄ storage/         # –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ storage.go   # MemoryStorage –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –≤–µ–±—Ö—É–∫–æ–≤
‚îî‚îÄ‚îÄ models/          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
    ‚îî‚îÄ‚îÄ webhook.go   # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤ Discourse
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- **`.env`** - –†–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
- **`.gitignore`** - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
- **`README.md`** - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### MemoryStorage
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –≤–µ–±—Ö—É–∫–æ–≤ (—Ç–µ–º–∞ + –ø–æ—Å—Ç) –≤ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
- **TTL**: 5 –º–∏–Ω—É—Ç –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∏
- **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: sync.RWMutex
- **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è**: –º–∞–ª—ã—Ö –∏ —Å—Ä–µ–¥–Ω–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
1. **Topic webhook** ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ storage
2. **Post webhook** ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ storage
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã** ‚Üí –µ—Å–ª–∏ –µ—Å—Ç—å –æ–±–∞, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
4. **–û—á–∏—Å—Ç–∫–∞** ‚Üí –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

### –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
```
üë§ –ê–≤—Ç–æ—Ä —Å–æ–∑–¥–∞–ª –Ω–æ–≤—ã–π –ø–æ—Å—Ç –≤ —Ç–µ–º–µ: –ù–∞–∑–≤–∞–Ω–∏–µ

üìã –¢–µ–º–∞ –æ [–ò–ò —Ä–µ–∑—é–º–µ]

üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–µ–º—É

üè∑ –¢–µ–≥–∏: #—Ç–µ–≥1 #—Ç–µ–≥2

üíé [–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–ª–∞—Ç–Ω–æ—Å—Ç–∏ - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ]
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
1. `go mod download` - –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`
3. `go run main.go` –∏–ª–∏ `start.bat`

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω Ubuntu
1. `./quick_install.sh` - –±—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `.env`
3. `docker-compose up -d --build`

### Docker
- **–ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑**: golang:1.21-alpine
- **–§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑**: alpine:latest
- **–ü–æ—Ä—Ç—ã**: 8080 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- **–ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫**: unless-stopped
